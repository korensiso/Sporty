version: '3.4'

services:

  nosqldata:
    image: mongo

  rabbitmq:
    image: rabbitmq:3-management-alpine

  sporty.services.groups:
    image: ${DOCKER_REGISTRY-}sportyservicesgroups
    build:
      context: .
      dockerfile: Services/Sporty.Services.Groups/Dockerfile
    depends_on:
      - nosqldata
      - rabbitmq

  sporty.services.users:
    image: ${DOCKER_REGISTRY-}sportyservicesusers
    build:
      context: .
      dockerfile: Services/Sporty.Services.Users/Dockerfile
    depends_on:
      - nosqldata
      - rabbitmq

